"use strict";(function(){var t=this,e=t.TileCalc,n={tile2lng:function(t,e){return t/Math.pow(2,e)*360-180},tile2lat:function(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))},getTileBounds:function(t,e,n){var i=this.tile2lng(t,n),l=this.tile2lat(e,n),a=this.tile2lng(t+1,n),r=this.tile2lat(e+1,n);return[i,l,a,r]},getChildTiles:function(t,e,n){return n+=1,[[2*t,2*e,n],[2*t+1,2*e,n],[2*t,2*e+1,n],[2*t+1,2*e+1,n]]},getParentTile:function(t,e,n){return[Math.floor(t/2),Math.floor(e/2),n-1]},getTile:function(t,e,n){var i=Math.pow(2,n),l=Math.floor((e+180)/360*i);l>Math.pow(2,n)-1&&(l=0),a>Math.pow(2,n)-1&&(a=0);var a=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*i);return[l,a,n]},getTileNorthOf:function(t,e,n){var i=e-1;return 0>i&&(i=Math.pow(2,n)-1),[t,i,n]},getTileSouthOf:function(t,e,n){var i=Math.pow(2,n)-1,l=e+1;return l>i&&(l=0),[t,l,n]},getTileEastOf:function(t,e,n){var i=Math.pow(2,n)-1,l=t+1;return l>i&&(l=0),[l,e,n]},getTileWestOf:function(t,e,n){var i=t-1;return 0>i&&(i=Math.pow(2,n)-1),[i,e,n]},tilesInBounds:function(t,e,n,i,l){var a=e,r=n,o=i,s=t,h=this.getTile(s,a,l),u=this.getTile(s,o,l),f=this.getTile(r,o,l),c=(this.getTile(r,a,l),[]);if(isNaN(h[0])||isNaN(h[1]))throw"Invalid Bounds!";if(isNaN(f[0])||isNaN(f[1]))throw"Invalid Bounds!";for(var g=h,T=h,d=u;g+""!=f+"";)c.push(g),h+""!=u+""&&(g=this.getTileEastOf(g[0],g[1],g[2])),g+""==d+""&&g+""!=f+""&&(c.push(g),d=this.getTileSouthOf(g[0],g[1],g[2]),g=this.getTileSouthOf(T[0],T[1],T[2]),T=g);return g+""!=c[0]+""&&c.push(g),c},getAllDescendantTiles:function(t,e,n,i){"undefined"==typeof i&&(i=n+1);var l=[];if(i>n){var a=this.getChildTiles(t,e,n);l=l.concat(a);for(var r=l.length,o=0;r>o;o++){var s=l[o],h=this.getAllDescendantTiles(s[0],s[1],s[2],i);l=l.concat(h)}}return l},generateAllDescendantTiles:function(t,e,n,i,l){if("undefined"==typeof i&&(i=n+1),i>n)for(var a=this.getChildTiles(t,e,n),r=a.length,o=0;r>o;o++){l(a[o]);var s=a[o];this.generateAllDescendantTiles(s[0],s[1],s[2],i,l)}},getAllAncestorTiles:function(t,e,n,i){("undefined"==typeof i||0>i)&&(i=0);for(var l=[];n>i;){var a=this.getParentTile(t,e,n);l.push(a),t=a[0],e=a[1],n=a[2]}return l},generateAllAncestorTiles:function(t,e,n,i,l){for(("undefined"==typeof i||0>i)&&(i=0);n>i;){var a=this.getParentTile(t,e,n);l(a),t=a[0],e=a[1],n=a[2]}},getAllRelatedTiles:function(t,e,n,i,l){var a=[[t,e,n]],r=this.getAllDescendantTiles(t,e,n,l),o=this.getAllAncestorTiles(t,e,n,i),s=o.reverse();return s=s.concat(a),s=s.concat(r)},generateAllRelatedTiles:function(t,e,n,i,l,a){this.generateAllAncestorTiles(t,e,n,i,a),a([t,e,n]),this.generateAllDescendantTiles(t,e,n,l,a)}};n.noConflict=function(){return t.TileCalc=e,n},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.TileCalc=n):t.TileCalc=n}).call(this);
//# sourceMappingURL=tile-calc-min.map