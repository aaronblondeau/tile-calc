"use strict";(function(){var t=this,e=t.tilelogic,n={tile2lng:function(t,e){return t/Math.pow(2,e)*360-180},tile2lat:function(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))},getTileBounds:function(t,e,n){var i=this.tile2lng(t,n),l=this.tile2lat(e,n),r=this.tile2lng(t+1,n),a=this.tile2lat(e+1,n);return[i,l,r,a]},getChildTiles:function(t,e,n){return n+=1,[[2*t,2*e,n],[2*t+1,2*e,n],[2*t,2*e+1,n],[2*t+1,2*e+1,n]]},getParentTile:function(t,e,n){return[Math.floor(t/2),Math.floor(e/2),n-1]},getTile:function(t,e,n){var i=Math.pow(2,n),l=Math.floor((e+180)/360*i);l>Math.pow(2,n)-1&&(l=0),r>Math.pow(2,n)-1&&(r=0);var r=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*i);return[l,r,n]},getTileNorthOf:function(t,e,n){var i=e-1;return 0>i&&(i=Math.pow(2,n)-1),[t,i,n]},getTileSouthOf:function(t,e,n){var i=Math.pow(2,n)-1,l=e+1;return l>i&&(l=0),[t,l,n]},getTileEastOf:function(t,e,n){var i=Math.pow(2,n)-1,l=t+1;return l>i&&(l=0),[l,e,n]},getTileWestOf:function(t,e,n){var i=t-1;return 0>i&&(i=Math.pow(2,n)-1),[i,e,n]},tilesInBounds:function(t,e,n,i,l){var r=e,a=n,o=i,s=t,h=this.getTile(s,r,l),u=this.getTile(s,o,l),f=this.getTile(a,o,l),c=(this.getTile(a,r,l),[]);if(isNaN(h[0])||isNaN(h[1]))throw"Invalid Bounds!";if(isNaN(f[0])||isNaN(f[1]))throw"Invalid Bounds!";for(var g=h,d=h,T=u;g+""!=f+"";)c.push(g),h+""!=u+""&&(g=this.getTileEastOf(g[0],g[1],g[2])),g+""==T+""&&g+""!=f+""&&(c.push(g),T=this.getTileSouthOf(g[0],g[1],g[2]),g=this.getTileSouthOf(d[0],d[1],d[2]),d=g);return g+""!=c[0]+""&&c.push(g),c},getAllDescendantTiles:function(t,e,n,i){"undefined"==typeof i&&(i=n+1);var l=[];if(i>n){var r=this.getChildTiles(t,e,n);l=l.concat(r);for(var a=l.length,o=0;a>o;o++){var s=l[o],h=this.getAllDescendantTiles(s[0],s[1],s[2],i);l=l.concat(h)}}return l},generateAllDescendantTiles:function(t,e,n,i,l){if("undefined"==typeof i&&(i=n+1),i>n)for(var r=this.getChildTiles(t,e,n),a=r.length,o=0;a>o;o++){l(r[o]);var s=r[o];this.generateAllDescendantTiles(s[0],s[1],s[2],i,l)}},getAllAncestorTiles:function(t,e,n,i){("undefined"==typeof i||0>i)&&(i=0);for(var l=[];n>i;){var r=this.getParentTile(t,e,n);l.push(r),t=r[0],e=r[1],n=r[2]}return l},generateAllAncestorTiles:function(t,e,n,i,l){for(("undefined"==typeof i||0>i)&&(i=0);n>i;){var r=this.getParentTile(t,e,n);l(r),t=r[0],e=r[1],n=r[2]}},getAllRelatedTiles:function(t,e,n,i,l){var r=[[t,e,n]],a=this.getAllDescendantTiles(t,e,n,l),o=this.getAllAncestorTiles(t,e,n,i),s=o.reverse();return s=s.concat(r),s=s.concat(a)},generateAllRelatedTiles:function(t,e,n,i,l,r){this.generateAllAncestorTiles(t,e,n,i,r),r([t,e,n]),this.generateAllDescendantTiles(t,e,n,l,r)}};n.noConflict=function(){return t.tilelogic=e,n},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.tilelogic=n):t.tilelogic=n}).call(this);
//# sourceMappingURL=tilelogic-min.map